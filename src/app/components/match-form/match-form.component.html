<div class="bg-white rounded-xl shadow-lg p-6 mb-8" data-testid="match-form">
  <h2 class="text-2xl font-semibold text-gray-800 mb-6">New Match</h2>

  <form (ngSubmit)="matchSubmit.emit()" class="space-y-6">

    <!-- Player Selection -->
    <div class="grid md:grid-cols-2 gap-6">

      <!-- Player 1 -->
      <div>
        <label for="player1" class="block text-sm font-medium text-gray-700 mb-2">
          Player 1
        </label>
        <select id="player1" [(ngModel)]="match.player1" name="player1" required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
          <option value="">Select Player 1</option>
          <option *ngFor="let player of players" [value]="player">{{ player }}</option>
        </select>
      </div>

      <!-- Player 2 -->
      <div>
        <label for="player2" class="block text-sm font-medium text-gray-700 mb-2">
          Player 2
        </label>
        <select id="player2" [(ngModel)]="match.player2" name="player2" required [disabled]="!match.player1"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition disabled:bg-gray-100 disabled:cursor-not-allowed">
          <option value="">Select Player 2</option>
          <option *ngFor="let player of availablePlayers2" [value]="player">{{ player }}</option>
        </select>
      </div>
    </div>

    <!-- Score Entry -->
    <div class="grid md:grid-cols-2 gap-6">

      <!-- Score 1 -->
      <div>
        <label for="score1" class="block text-sm font-medium text-gray-700 mb-2">
          {{ match.player1 || 'Player 1' }}'s Score
        </label>
        <input id="score1" type="number" [(ngModel)]="match.score1" name="score1" required min="0"
          placeholder="Enter score"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition text-lg font-semibold">
      </div>

      <!-- Score 2 -->
      <div>
        <label for="score2" class="block text-sm font-medium text-gray-700 mb-2">
          {{ match.player2 || 'Player 2' }}'s Score
        </label>
        <input id="score2" type="number" [(ngModel)]="match.score2" name="score2" required min="0"
          placeholder="Enter score"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition text-lg font-semibold">
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit"
      [disabled]="submitting || !match.player1 || !match.player2 || match.score1 === null || match.score2 === null"
      class="w-full bg-emerald-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-emerald-700 transition disabled:bg-gray-300 disabled:cursor-not-allowed shadow-md hover:shadow-lg">
      Record Match
    </button>
  </form>
</div>
